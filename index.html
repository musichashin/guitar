<!DOCTYPE html>
<html>
<head>
  <title>Guitar Daily</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/96/guitar.png">
  <link rel="apple-touch-icon" href="https://img.icons8.com/fluency/180/guitar.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#121212">
  <meta name="apple-mobile-web-app-title" content="GuitarDaily">

  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      background: #121212;
      color: #fff;
      font-family: 'Nunito', sans-serif;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding-bottom: 50px;
    }

    /* --- HEADER --- */
    .header {
      width: 100%;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #1e1e1e;
      border-bottom: 1px solid #333;
      box-sizing: border-box;
    }
    .stat { display: flex; align-items: center; font-weight: 900; font-size: 18px; }
    .streak-icon { color: #ff9600; margin-right: 5px; font-size: 24px; }
    .xp-icon { color: #58cc02; margin-right: 5px; font-size: 24px; }

    /* --- TIMER --- */
    .timer-container { margin: 20px 0; position: relative; }
    .timer-circle {
      width: 100px; height: 100px;
      border-radius: 50%;
      border: 4px solid #333;
      display: flex; align-items: center; justify-content: center;
      font-size: 28px; font-weight: 900; color: #ff9600;
    }
    .active-timer { border-color: #ff9600; box-shadow: 0 0 15px rgba(255, 150, 0, 0.2); }

    /* --- LESSON CARD --- */
    .lesson-card {
      background: #1e1e1e;
      border-radius: 20px;
      padding: 25px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      text-align: left;
      display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ–∫–∞ JS –Ω–µ —Ä–µ—à–∏—Ç –ø–æ–∫–∞–∑–∞—Ç—å */
    }
    .lesson-tag {
      background: #333; color: #aaa;
      padding: 5px 10px; border-radius: 10px;
      font-size: 12px; font-weight: bold;
      text-transform: uppercase; display: inline-block; margin-bottom: 10px;
    }
    h2 { margin: 0 0 10px 0; font-size: 22px; }
    .instruction { color: #ccc; font-size: 15px; line-height: 1.5; margin-bottom: 20px; }
    
    .tab-box {
      background: #000; border-radius: 10px; padding: 15px;
      border-left: 5px solid #ff9600; overflow-x: auto; margin-bottom: 20px;
    }
    .tab-text {
      font-family: 'Courier New', monospace; font-size: 16px;
      line-height: 1.4; color: #fff; white-space: pre; font-weight: bold;
    }
    .finger-guide { display: flex; gap: 10px; font-size: 12px; color: #777; margin-top: 5px; }
    .finger-badge { background: #333; padding: 2px 6px; border-radius: 4px; color: #fff; }

    /* --- LOCKED CARD (WAIT FOR TOMORROW) --- */
    .locked-card {
      background: #1e1e1e;
      border-radius: 20px;
      padding: 40px 20px;
      width: 90%;
      max-width: 500px;
      display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
      flex-direction: column;
      align-items: center;
      border: 2px dashed #333;
    }
    .lock-icon { font-size: 60px; margin-bottom: 20px; opacity: 0.5; }
    .lock-title { font-size: 24px; font-weight: 900; margin-bottom: 10px; color: #888; }
    .lock-desc { color: #666; font-size: 16px; margin-bottom: 20px; }
    .next-timer { 
      background: #222; padding: 10px 20px; border-radius: 10px; 
      font-family: monospace; font-size: 18px; color: #ff9600; 
    }

    /* --- BUTTON --- */
    .btn-finish {
      background: #58cc02; color: #fff; border: none;
      padding: 16px 0; width: 90%; max-width: 400px;
      font-size: 18px; border-radius: 15px; font-weight: 900;
      box-shadow: 0 4px 0 #46a302; cursor: pointer;
      margin-top: 30px; transition: all 0.2s;
    }
    .btn-finish:active { transform: translateY(4px); box-shadow: none; }
    .btn-finish:disabled { background: #333; box-shadow: none; color: #555; cursor: not-allowed; }

    /* --- REWARD MODAL --- */
    #rewardModal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.95);
      display: none;
      flex-direction: column; align-items: center; justify-content: center;
      z-index: 2000;
    }
    .big-emoji { font-size: 80px; margin-bottom: 20px; animation: bounce 0.6s infinite alternate; }
    @keyframes bounce { from {transform: translateY(0);} to {transform: translateY(-20px);} }
  </style>
</head>
<body>

  <div class="header">
    <div class="stat"><span class="streak-icon">üî•</span> <span id="streakDisplay">0</span></div>
    <div class="stat"><span class="xp-icon">üíé</span> <span id="xpDisplay">0</span></div>
  </div>

  <div class="timer-container" id="mainTimerContainer">
    <div class="timer-circle active-timer">
      <span id="timer">05:00</span>
    </div>
  </div>

  <div class="locked-card" id="lockedCard">
    <div class="lock-icon">üîí</div>
    <div class="lock-title">Daily Goal Met!</div>
    <div class="lock-desc">–ü–∞–ª—å—Ü—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–¥—ã—Ö–∞—Ç—å.<br>–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∑–∞–≤—Ç—Ä–∞.</div>
    <div class="next-timer" id="tomorrowTimer">--:--:--</div>
  </div>

  <div class="lesson-card" id="lessonCard">
    <span class="lesson-tag" id="lessonTag">DAY 1</span>
    <h2 id="lessonTitle">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
    <p class="instruction" id="lessonDesc">...</p>
    
    <div class="tab-box">
      <div class="tab-text" id="lessonTab"></div>
    </div>

    <div class="finger-guide">
      <span><span class="finger-badge">P</span> –ë–æ–ª—å—à–æ–π</span>
      <span><span class="finger-badge">i</span> –£–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π</span>
      <span><span class="finger-badge">m</span> –°—Ä–µ–¥–Ω–∏–π</span>
      <span><span class="finger-badge">a</span> –ë–µ–∑—ã–º—è–Ω–Ω—ã–π</span>
    </div>
  </div>

  <button id="finishBtn" class="btn-finish" onclick="completeSession()">DONE!</button>

  <div id="rewardModal">
    <div class="big-emoji">üé∏</div>
    <h1 style="color:#fff; font-size:30px">LESSON COMPLETE!</h1>
    <p style="color:#aaa">+1 Day Streak</p>
    <button class="btn-finish" onclick="location.reload()" style="margin-top:20px; background:#ff9600; box-shadow: 0 4px 0 #cc7a00;">CONTINUE</button>
  </div>

<script>
  // --- –ë–ê–ó–ê –î–ê–ù–ù–´–• –£–ü–†–ê–ñ–ù–ï–ù–ò–ô ---
  const exercises = [
    {
      type: "RIGHT HAND TECHNIQUE",
      title: "–ü–µ—Ä–µ–±–æ—Ä ¬´–®–µ—Å—Ç–µ—Ä–∫–∞¬ª",
      desc: "–°–µ–≥–æ–¥–Ω—è –Ω–µ –Ω—É–∂–Ω—ã –∞–∫–∫–æ—Ä–¥—ã. –ò–≥—Ä–∞–π –Ω–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å—Ç—Ä—É–Ω–∞—Ö. –¢–≤–æ—è —Ü–µ–ª—å ‚Äî –∏–≥—Ä–∞—Ç—å —Ä–æ–≤–Ω–æ –ø—Ä–∞–≤–æ–π —Ä—É–∫–æ–π. –°—Ö–µ–º–∞: –ë–∞—Å - 3 - 2 - 1 - 2 - 3. –î–µ–ª–∞–π —ç—Ç–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ 5 –º–∏–Ω—É—Ç",
      tab: 
`   Em (–æ—Ç–∫—Ä—ã—Ç—ã–µ —Å—Ç—Ä—É–Ω—ã)
e|-----------0-----------|
B|-------0-------0-------|
G|---0---------------0---|
D|-----------------------|
A|-----------------------|
E|---0-------------------|
    P   i   m   a   m   i`
    },
    {
      type: "LEFT HAND WARMUP",
      title: "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ¬´–ü–∞—É–∫¬ª",
      desc: "–†–∞–∑–º–∏–Ω–∞–µ–º –ø–∞–ª—å—Ü—ã –ª–µ–≤–æ–π —Ä—É–∫–∏. –ò–≥—Ä–∞–π –Ω–∞ 6-–π —Å—Ç—Ä—É–Ω–µ –ª–∞–¥—ã: 1-2-3-4. –ö–∞–∂–¥—ã–π –ø–∞–ª–µ—Ü –Ω–∞ —Å–≤–æ–π –ª–∞–¥. –ù–µ –ø–æ–¥–Ω–∏–º–∞–π –ø–∞–ª—å—Ü—ã, –ø–æ–∫–∞ –Ω–µ –ø–æ—Å—Ç–∞–≤–∏—à—å —Å–ª–µ–¥—É—é—â–∏–π!",
      tab:
`   1   2   3   4
e|-----------------|
B|-----------------|
G|-----------------|
D|-----------------|
A|-----------------|
E|---1---2---3---4-|
    ^   ^   ^   ^
    –£–∫. –°—Ä. –ë–µ–∑. –ú–∏–∑.`
    },
    {
      type: "CHORD SWITCHING",
      title: "Em -> Am –ü–µ—Ä–µ—Ö–æ–¥",
      desc: "–°–∞–º—ã–π –≤–∞–∂–Ω—ã–π –Ω–∞–≤—ã–∫. –ü–æ—Å—Ç–∞–≤—å Em, —É–¥–∞—Ä—å –ø–æ —Å—Ç—Ä—É–Ω–∞–º, –ø–µ—Ä–µ—Å—Ç–∞–≤—å –Ω–∞ Am, —É–¥–∞—Ä—å. –î–µ–ª–∞–π —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π –ø—Ä–∞–≤—É—é —Ä—É–∫—É.",
      tab:
`   Em      Am      Em
e|--0-------0-------0---|
B|--0-------1-------0---|
G|--0-------2-------0---|
D|--2-------2-------2---|
A|--2-------0-------2---|
E|--0---------------0---|`
    }
  ];

  // --- –õ–û–ì–ò–ö–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø ---
  let user = JSON.parse(localStorage.getItem('guitarUser')) || { xp: 0, streak: 0, lastLoginDate: null };
  const today = new Date().toDateString();

  const lessonCard = document.getElementById('lessonCard');
  const lockedCard = document.getElementById('lockedCard');
  const mainTimer = document.getElementById('mainTimerContainer');
  const finishBtn = document.getElementById('finishBtn');

  document.getElementById('streakDisplay').innerText = user.streak;
  document.getElementById('xpDisplay').innerText = user.xp;

  // --- –ì–õ–ê–í–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê: –ó–ê–ù–ò–ú–ê–õ–°–Ø –õ–ò –°–ï–ì–û–î–ù–Ø? ---
  if (user.lastLoginDate === today) {
    // –î–ê, –£–ñ–ï –ó–ê–ù–ò–ú–ê–õ–°–Ø -> –ë–õ–û–ö–ò–†–£–ï–ú
    showLockedScreen();
  } else {
    // –ù–ï–¢, –ú–û–ñ–ù–û –ó–ê–ù–ò–ú–ê–¢–¨–°–Ø -> –ó–ê–ì–†–£–ñ–ê–ï–ú –£–†–û–ö
    showLesson();
  }

  function showLockedScreen() {
    lessonCard.style.display = 'none';
    mainTimer.style.display = 'none';
    finishBtn.style.display = 'none';
    lockedCard.style.display = 'flex';

    // –¢–∞–π–º–µ—Ä –¥–æ –ø–æ–ª—É–Ω–æ—á–∏
    setInterval(() => {
      const now = new Date();
      const tomorrow = new Date(now);
      tomorrow.setDate(tomorrow.getDate() + 1);
      tomorrow.setHours(0, 0, 0, 0);
      
      const diff = tomorrow - now;
      const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const m = Math.floor((diff / (1000 * 60)) % 60);
      const s = Math.floor((diff / 1000) % 60);
      
      document.getElementById('tomorrowTimer').innerText = 
        `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    }, 1000);
  }

  function showLesson() {
    lessonCard.style.display = 'block';
    lockedCard.style.display = 'none';

    // –í—ã–±–∏—Ä–∞–µ–º —É—Ä–æ–∫
    let currentExerciseIndex = user.streak % exercises.length; 
    let lesson = exercises[currentExerciseIndex];

    document.getElementById('lessonTag').innerText = lesson.type;
    document.getElementById('lessonTitle').innerText = lesson.title;
    document.getElementById('lessonDesc').innerText = lesson.desc;
    document.getElementById('lessonTab').innerText = lesson.tab;
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
    startPracticeTimer();
  }

  // --- –¢–ê–ô–ú–ï–† –¢–†–ï–ù–ò–†–û–í–ö–ò ---
  function startPracticeTimer() {
    const timerDisplay = document.getElementById('timer');
    let timeLeft = 300; // 5 –º–∏–Ω—É—Ç
    let practiceRequired = 10; // –ö–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ —á–µ—Ä–µ–∑ 10 —Å–µ–∫

    finishBtn.disabled = true;
    finishBtn.innerText = "PRACTICING...";

    setInterval(() => {
      if (timeLeft > 0) {
        timeLeft--;
        let m = Math.floor(timeLeft / 60).toString().padStart(2, '0');
        let s = (timeLeft % 60).toString().padStart(2, '0');
        timerDisplay.innerText = `${m}:${s}`;
      }

      if (practiceRequired > 0) {
        practiceRequired--;
      } else {
        if(finishBtn.disabled) {
          finishBtn.disabled = false;
          finishBtn.innerText = "FINISH LESSON";
        }
      }
    }, 1000);
  }

  // --- –ó–ê–í–ï–†–®–ï–ù–ò–ï ---
  window.completeSession = function() {
    if (user.lastLoginDate !== today) {
      user.streak++;
      user.xp += 100;
      user.lastLoginDate = today;
      localStorage.setItem('guitarUser', JSON.stringify(user));
      
      document.getElementById('rewardModal').style.display = 'flex';
    }
  }
</script>

</body>
</html>
